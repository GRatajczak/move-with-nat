---
import TrainerLayout from "../../../../layouts/TrainerLayout.astro";
import { EditPlanContainer } from "../../../../components/plans/edit/EditPlanContainer";

// Check authorization in middleware
const { locals, params } = Astro;
const user = locals.user;

if (!user || user.role !== "trainer") {
  return Astro.redirect("/");
}

const planId = params.id || "";
---

<TrainerLayout>
  <EditPlanContainer client:load planId={planId} userRole="trainer" />
</TrainerLayout>
